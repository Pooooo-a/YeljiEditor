<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yelji Editor Final - Multi-Template</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.1/fabric.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <style>
        .canvas-container-wrapper {
            /* Atur lebar maksimum untuk tampilan di browser */
            max-width: 800px; 
            margin: 20px auto;
        }
        #c {
            width: 800px; 
            height: 1000px; 
        }
        /* Style untuk grup kontrol yang disembunyikan */
        .template-1-controls {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 15px;
            border-radius: 5px;
        }
        /* CSS Tambahan untuk tombol */
        .btn-green { background-color: #2ecc71; color: white; border: none; padding: 10px; cursor: pointer; border-radius: 3px; width: 100%; }
        .btn-red { background-color: #e74c3c; color: white; border: none; padding: 10px; cursor: pointer; border-radius: 3px; width: 100%; }
        #downloadBtn { background-color: #3498db; color: white; border: none; padding: 15px; margin-top: 15px; cursor: pointer; border-radius: 5px; width: 100%; font-size: 1.1em; }
    </style>
</head>
<body>

    <div class="canvas-container-wrapper">
        <canvas id="c" width="800" height="1000"></canvas>
    </div>

    <div class="controls">
        <h2>Yelji Editor Multi-Template</h2>

        <div class="control-group" style="border-bottom: 2px solid #00d2ff;">
            <label>Pilih Template:</label>
            <select id="templateSelector">
                <option value="template.jpg">Template Depan (800x1000)</option>
                <option value="template_2.jpg">Template Skin Belakang (1080x1350)</option>
            </select>
        </div>
        
        <div class="calibration-box">
            <label style="color: #f1c40f; font-weight: bold;">
                <input type="checkbox" id="toggleCalibration" checked onchange="toggleCalibrationMode()"> 
                Mode Kalibrasi (Atur Posisi Slot)
            </label>
            <div class="calibration-warning">
                ⚠️ Geser/besarkan kotak **MERAH** agar pas. Teks Harga/Hero/Skin **TIDAK BISA** digeser (kecuali dihilangkan).
            </div>
        </div>

        <div class="template-1-controls" id="template1Controls">
            <h3>Kontrol Template Depan (Harga & Hero)</h3>
            <label>1. Foto Utama (Slot 'main')</label>
            <input type="file" id="uploadMain" accept="image/*">
            
            <label style="margin-top:10px">Harga (RP)</label>
            <input type="text" id="priceInput" placeholder="150.000">

            <label style="margin-top:10px">Jumlah Hero</label>
            <input type="text" id="heroCountInput" placeholder="120">

            <label style="margin-top:10px">Jumlah Skin</label>
            <input type="text" id="skinCountInput" placeholder="400">
        </div>

        <div class="control-group">
            <h3>2. Kontrol Slot Database/Manual</h3>
            <label>Pilih Slot Target:</label>
            <select id="slotSelector">
                <option value="">-- Pilih Slot Target --</option>
            </select>

            <label style="margin-top:10px">Isi dengan (Database):</label>
            <select id="dbSelect">
                <option value="">-- Pilih Skin (Database) --</option>
                <option value="https://via.placeholder.com/200/FF0000/FFFFFF?text=Epic">Skin Epic</option>
                <option value="https://via.placeholder.com/200/0000FF/FFFFFF?text=Legend">Skin Legend</option>
                <option value="https://via.placeholder.com/200/FFFF00/000000?text=Coll">Skin Collector</option>
            </select>
            
            <div style="text-align: center; margin: 5px 0; font-size: 0.8em;">- ATAU -</div>
            
            <label>Upload Manual:</label>
            <input type="file" id="uploadSlot" accept="image/*">

            <button id="applyImageBtn" class="btn-green" style="margin-top: 10px;">Pasang Gambar</button>
            <button id="clearSlotBtn" class="btn-red" style="margin-top: 5px;">Hapus Slot Ini</button>
        </div>

        <button id="downloadBtn">Download Hasil</button>
    </div>

    <script src="script.js"></script>
</body>
</html>